{"ast":null,"code":"var express = require(\"express\");\n\nvar app = express();\n\nvar path = require(\"path\");\n\nvar routes = require(\"./routes\");\n\nvar mongoose = require(\"mongoose\");\n\nvar PORT = process.env.PORT || 3001; // Define middleware here\n\napp.use(express.urlencoded({\n  extended: true\n}));\napp.use(express.json()); // Serve up static assets (usually on heroku) Production mode\n\nif (process.env.NODE_ENV === \"production\") {\n  app.use(express.static(path.join(_dirname, \"client/build\")));\n} // Connect to the Mongo DB\n\n\nmongoose.connect(\"mongodb://localhost/members\", {\n  useNewUrlParser: true\n});\nmongoose.Promise = global.Promise; // Add routes, both API and view\n// /myRoutesHere /api\n\napp.use(routes); // Build mode\n// Send every request to the React app\n// Define any API routes before this runs\n\napp.get(\"*\", function (req, res) {\n  res.sendFile(path.join(__dirname, \"./client/build/index.html\"));\n}); // Start server\n\napp.listen(PORT, function () {\n  console.log(\"\\uD83C\\uDF0E ==> API server now on port \".concat(PORT, \"!\"));\n});","map":null,"metadata":{},"sourceType":"script"}